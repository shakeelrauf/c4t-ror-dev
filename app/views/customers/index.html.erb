<%= render :partial => 'shared/header' %>
<%= render :partial => 'shared/menu' %>

<div class="content-wrapper">
        <!-- Container-fluid starts -->
        <div class="container-fluid">
            <!-- Main content starts -->
            <div >
                <!-- Row Starts -->
                <div class="row">
                    <div class="col-sm-12 p-0">
                        <div class="main-header">
                            <h4>Customers</h4>
                            <ol class="breadcrumb breadcrumb-title breadcrumb-arrow">
                                <li class="breadcrumb-item">
                                    <a href="/dashboard">
                                        <i class="icofont icofont-home"></i>
                                    </a>
                                </li>
                                <li class="breadcrumb-item">Clients</li>
                                <li class="breadcrumb-item"><a href="/customers">Customers</a></li>
                            </ol>
                        </div>
                    </div>
                </div>
                <!-- Row end -->
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-header-text d-inline-block m-b-0 f-w-600">
                                    Customers
                                </h5>
                                <a href="/customers/add" class="btn btn-primary waves-effect waves-light f-right md-trigger btnAddCustomer" data-modal="modal-13">
                                    <i class="icofont icofont-plus m-r-5"></i>  Add new customer
                                </a>
                            </div>
                            <div class="card-block">
                                <div class="row">
                                    <div class="md-group-add-on col-lg-12">
                                        <span class="md-add-on">
                                            <i class="icofont icofont-ui-search"></i>
                                        </span>
                                        <div class="md-input-wrapper">
                                            <input type="text" class="md-form-control search-bar-client" name="filter" id="customer-search-filter">
                                            <label>Search</label>
                                        </div>
                                    </div>
                                    <div class="table-content crm-table">
                                        <div class="project-table">
                                            <table id="crm-contact" class="table table-striped nowrap table-responsive">
                                                <thead>
                                                <tr>
                                                    <th>First Name</th>
                                                    <th>Last Name</th>
                                                    <th><i class="icofont icofont-bank-alt"></i></th>
                                                    <th class="tablephone">Phone Number</th>
                                                    <th>Extension</th>
                                                    <th>Heard Of Us</th>
                                                    <th>Grade</th>
                                                    <th class="tableaction">Action</th>
                                                </tr>
                                                </thead>
													                         <%= render :partial => 'customers/customers_data', locals: {customers: @customers} %>
                                                <tfoot>
                                                <tr>
                                                    <th>First Name</th>
                                                    <th>Last Name</th>
                                                    <th><i class="icofont icofont-bank-alt"></i></th>
                                                    <th>Phone Number</th>
                                                    <th>Extension</th>
                                                    <th>Heard Of Us</th>
                                                    <th>Grade</th>
                                                    <th>Action</th>
                                                </tr>
                                                </tfoot>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Container-fluid ends -->
    </div>
</div>
<script>
function growlOfSuccess(message) {
    $.growl({
        message: message
    },{
        type: "success",
        allow_dismiss: true,
        label: 'Cancel',
        className: 'btn-xs btn-inverse',
        delay: 0,
        placement: {
            from: 'top',
            align: 'center'
        },
        animate: { enter: 'animated fadeInDown' }
    });
}

$(document).ready(function() {
  $("#crm-contact").DataTable({
      "paging": false,
      "searching": false,
      "info":     false,
      "order": [],
      "fixedHeader": true
  });
  $("#crm-contact_filter").css({"visibility": "hidden","height": "0px"})
  $("#crm-contact_length").css({"visibility": "hidden","height": "0px"})
});


  $("#customer-search-filter").keyup(function(){
    $("#crm-contact_filter").find("input").val($(this).val());
    $("#crm-contact_filter").find("input").trigger("keyup");

  });
// var customersList = <%#= JSON.stringify(@customers.to_json) %>
// var userRole = "<%#= user.roles %>"
</script>

